<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ovollovo.shoppingmall.goods.dao.GoodsMapper">
  <insert id="registerGoods" >
  	insert into goods values(#{name},#{code},#{classification_1},#{classification_2},#{price},#{stock},#{description},#{thumbnail_image}, default)
  </insert>
  <select id="searchGoods" resultType="com.ovollovo.shoppingmall.goods.Goods">
  	select * from goods where code= #{code}
  </select>
  <select id="searchCode" resultType="String">
  	select code from goods where code= #{code}
  </select>
  <select id="searchNewGoods" resultType="com.ovollovo.shoppingmall.goods.Goods">
  	select name,code,price,description,thumbnail_image,registered_time from goods order by registered_time desc limit 4
  </select>
  <select id="searchCategory_1Names" resultType="String">
  	select name from category_1 where code = #{code}
  </select>
  <select id="searchCategory_2Names" resultType="String">
  	select name from category_2  where code = #{code}
  </select>
  <select id="searchClassification_1Goods" resultType="com.ovollovo.shoppingmall.goods.Goods">
  	select * from goods where classification_1 = #{classification_1} order by registered_time desc limit #{n},#{m}
  </select>
  <select id="searchClassification_2Goods" resultType="com.ovollovo.shoppingmall.goods.Goods">
  	select * from goods where classification_2 = #{classification_2} order by registered_time desc limit #{n},#{m}
  </select>
  <select id="searchClassification_1Count" resultType="int">
  	select count(*) from goods where classification_1 = #{classification_1}
  </select>
  <select id="searchClassification_2Count" resultType="int">
  	select count(*) from goods where classification_2 = #{classification_2}
  </select>
</mapper>
